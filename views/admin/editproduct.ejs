<!-- Begin Page Content -->
<div class="container-fluid">

  <!-- Page Heading -->
  <h1 class="h3 mb-2 text-gray-800">Edit products</h1>
  <p class="mb-4">
    Edit product with one simple step
  </p>

  <!-- DataTales Example -->
  <div class="card shadow mb-4">
    <div class="card-header py-3 d-flex justify-content-between">
      <h6 class="m-0 font-weight-bold text-primary" style="text-transform: capitalize;">
        Edit product
      </h6>
      <span style="text-transform: capitalize;">
        <%= product.creationTime %>
      </span>
    </div>
    <div class="card-body">

      <div class="input-cont">
        <label for="title">Title * <span></span></label>
        <textarea type="text" name="Title" id="titleInput" autocomplete="off" placeholder="Product title"><%=product?.title?product.title:''%></textarea>
      </div>

      <div class="input-cont">
        <label for="description">Description * <span></span></label>
        <textarea type="text" name="description" id="descriptionInput" autocomplete="off" placeholder="Breaf description"><%=product?.description?product.description:''%></textarea>
      </div>

      <div class="input-cont horz">
        <div class="input-cont">
          <label for="price">Price * <span></span></label>
          <input type="text" name="price" id="priceInput" placeholder="Price" value="<%=product?.price?product.price:''%>" autocomplete="off">
        </div>
        <div class="input-cont">
          <label for="quantity">Quantity * <span></span></label>
          <input type="text" name="quantity" id="quantityInput" autocomplete="off" placeholder="Quantity" value="<%=product?.stock?product.stock:''%>">
        </div>
      </div>

      <div class="input-cont horz">
        <div class="input-cont">
          <label for="discount">Discount (optional) <span></span></label>
          <input type="text" name="offer" id="offerInput" autocomplete="off" placeholder="Discount amount" value="<%=product?.offer?product.offer:''%>">
        </div>
        <div class="input-cont">
          <label for="category">Catogery * <span></span></label>
          <select name="category" id="categoryInput">
            <option value="<%=product?.category?product.category:''%>">
              <%=product?.category?product.category:'--Select--'%>
            </option>
            <% category.forEach((element,index,array)=>{ %>

            <option value="<%= element.category %> ">
              <%= element.category %>
            </option>

            <% }); %>
          </select>
        </div>
      </div>

      <div class="input-cont horz">

        <div class="input-cont img card">
          <% let id = 'imgA_DISP'; let idA='imgA'; let idB = 'img1'%>
          <div class="card-header">
            <label for="<%=idA%>">Feature image <span></span></label>
          </div>
          <div class="card-body d-flex justify-content-between">
            <div class="img-from-cont">
              <img id="<%=id%>" src="/product_images/<%=product.PID %>1.jpg" class="img-cont" alt="">
              <!-- <span class="choose">Select image</span> -->
            </div>
            <div class="edit-action-cont ml-3">
              <p class="mb-0">Tools</p>
              <div class="icons">
                <button class="editAction" disabled onclick="window['<%=id%>'].setDragMode('move');">
                  <img src="/icn/move.svg" aria-disabled="true" alt="">
                </button>
                <button class="editAction" disabled onclick="window['<%=id%>'].setDragMode('crop');">
                  <img src="/icn/plus.svg" aria-disabled="true" alt="">
                </button>
                <button class="editAction" disabled onclick="window['<%=id%>'].move(0,-10)">
                  <img src="/icn/up.svg" aria-disabled="true" alt="">
                </button>
                <button class="editAction" disabled onclick="window['<%=id%>'].move(0,10)">
                  <img src="/icn/down.svg" aria-disabled="true" alt="">
                </button>
                <button class="editAction" disabled onclick="window['<%=id%>'].move(-10,0)">
                  <img src="/icn/left.svg" aria-disabled="true" alt="">
                </button>
                <button class="editAction" disabled onclick="window['<%=id%>'].move(10,0)">
                  <img src="/icn/right.svg" aria-disabled="true" alt="">
                </button>
                <button class="editAction" disabled onclick="window['<%=id%>'].rotate(-45)">
                  <img src="/icn/rotate-left.svg" aria-disabled="true" alt="">
                </button>
                <button class="editAction" disabled onclick="window['<%=id%>'].rotate(45)">
                  <img src="/icn/rotate-right.svg" aria-disabled="true" alt="">
                </button>
                <button class="editAction" disabled onclick="flipImageXA(this,'<%=id%>')">
                  <img src="/icn/horz-flip.svg" aria-disabled="true" alt="">
                </button>
                <button class="editAction" disabled onclick="flipImageYA(this,'<%=id%>')">
                  <img src="/icn/vert-flip.svg" aria-disabled="true" alt="">
                </button>
                <button class="editAction" disabled onclick="window['<%=id%>'].zoom(0.1)">
                  <img src="/icn/zoom-in.svg" aria-disabled="true" alt="">
                </button>
                <button class="editAction" disabled onclick="window['<%=id%>'].zoom(-0.1)">
                  <img src="/icn/zoom-out.svg" aria-disabled="true" alt="">
                </button>
                <button class="editAction" disabled onclick="window['<%=id%>'].reset()">
                  <img src="/icn/reset.svg" aria-disabled="true" alt="">
                </button>
              </div>
            </div>
          </div>
          <div class="card-footer">
            <button class="btn btn-primary rounded ml-0" onclick="cropperJS('<%=id%>',this, '<%=idB%>')" >Edit image</button>
            <button class="btn btn-primary rounded" onclick="selectImage('<%=id%>',this, '<%=idB%>')">Select image</button>
            <input type="file" accept="image/jpeg" name="<%=idA%>" id="<%=idA%>" hidden>
          </div>
        </div>

        <div class="input-cont img card">
          <% id = 'imgB_DISP'; idA='imgB'; idB = 'img2'%>
          <div class="card-header">
            <label for="<%=idA%>">Feature image <span></span></label>
          </div>
          <div class="card-body d-flex justify-content-between">
            <div class="img-from-cont">
              <img id="<%=id%>" src="/product_images/<%=product.PID %>2.jpg" class="img-cont" alt="">
              <!-- <span class="choose">Select image</span> -->
            </div>
            <div class="edit-action-cont ml-3">
              <p class="mb-0">Tools</p>
              <div class="icons">
                <button class="editAction" disabled onclick="window['<%=id%>'].setDragMode('move');">
                  <img src="/icn/move.svg" aria-disabled="true" alt="">
                </button>
                <button class="editAction" disabled onclick="window['<%=id%>'].setDragMode('crop');">
                  <img src="/icn/plus.svg" aria-disabled="true" alt="">
                </button>
                <button class="editAction" disabled onclick="window['<%=id%>'].move(0,-10)">
                  <img src="/icn/up.svg" aria-disabled="true" alt="">
                </button>
                <button class="editAction" disabled onclick="window['<%=id%>'].move(0,10)">
                  <img src="/icn/down.svg" aria-disabled="true" alt="">
                </button>
                <button class="editAction" disabled onclick="window['<%=id%>'].move(-10,0)">
                  <img src="/icn/left.svg" aria-disabled="true" alt="">
                </button>
                <button class="editAction" disabled onclick="window['<%=id%>'].move(10,0)">
                  <img src="/icn/right.svg" aria-disabled="true" alt="">
                </button>
                <button class="editAction" disabled onclick="window['<%=id%>'].rotate(-45)">
                  <img src="/icn/rotate-left.svg" aria-disabled="true" alt="">
                </button>
                <button class="editAction" disabled onclick="window['<%=id%>'].rotate(45)">
                  <img src="/icn/rotate-right.svg" aria-disabled="true" alt="">
                </button>
                <button class="editAction" disabled onclick="flipImageXA(this,'<%=id%>')">
                  <img src="/icn/horz-flip.svg" aria-disabled="true" alt="">
                </button>
                <button class="editAction" disabled onclick="flipImageYA(this,'<%=id%>')">
                  <img src="/icn/vert-flip.svg" aria-disabled="true" alt="">
                </button>
                <button class="editAction" disabled onclick="window['<%=id%>'].zoom(0.1)">
                  <img src="/icn/zoom-in.svg" aria-disabled="true" alt="">
                </button>
                <button class="editAction" disabled onclick="window['<%=id%>'].zoom(-0.1)">
                  <img src="/icn/zoom-out.svg" aria-disabled="true" alt="">
                </button>
                <button class="editAction" disabled onclick="window['<%=id%>'].reset()">
                  <img src="/icn/reset.svg" aria-disabled="true" alt="">
                </button>
              </div>
            </div>
          </div>
          <div class="card-footer">
            <button class="btn btn-primary rounded ml-0" onclick="cropperJS('<%=id%>',this, '<%=idB%>')">Edit image</button>
            <button class="btn btn-primary rounded" onclick="selectImage('<%=id%>',this, '<%=idB%>')">Select image</button>
            <input type="file" accept="image/jpeg" name="<%=idA%>" id="<%=idA%>" hidden>
          </div>
        </div>

        <div class="input-cont img card">
          <% id = 'imgC_DISP'; idA='imgC'; idB = 'img3'%>
          <div class="card-header">
            <label for="<%=idA%>">Feature image <span></span></label>
          </div>
          <div class="card-body d-flex justify-content-between">
            <div class="img-from-cont">
              <img id="<%=id%>" src="/product_images/<%=product.PID %>3.jpg" class="img-cont" alt="">
              <!-- <span class="choose">Select image</span> -->
            </div>
            <div class="edit-action-cont ml-3">
              <p class="mb-0">Tools</p>
              <div class="icons">
                <button class="editAction" disabled onclick="window['<%=id%>'].setDragMode('move');">
                  <img src="/icn/move.svg" aria-disabled="true" alt="">
                </button>
                <button class="editAction" disabled onclick="window['<%=id%>'].setDragMode('crop');">
                  <img src="/icn/plus.svg" aria-disabled="true" alt="">
                </button>
                <button class="editAction" disabled onclick="window['<%=id%>'].move(0,-10)">
                  <img src="/icn/up.svg" aria-disabled="true" alt="">
                </button>
                <button class="editAction" disabled onclick="window['<%=id%>'].move(0,10)">
                  <img src="/icn/down.svg" aria-disabled="true" alt="">
                </button>
                <button class="editAction" disabled onclick="window['<%=id%>'].move(-10,0)">
                  <img src="/icn/left.svg" aria-disabled="true" alt="">
                </button>
                <button class="editAction" disabled onclick="window['<%=id%>'].move(10,0)">
                  <img src="/icn/right.svg" aria-disabled="true" alt="">
                </button>
                <button class="editAction" disabled onclick="window['<%=id%>'].rotate(-45)">
                  <img src="/icn/rotate-left.svg" aria-disabled="true" alt="">
                </button>
                <button class="editAction" disabled onclick="window['<%=id%>'].rotate(45)">
                  <img src="/icn/rotate-right.svg" aria-disabled="true" alt="">
                </button>
                <button class="editAction" disabled onclick="flipImageXA(this,'<%=id%>')">
                  <img src="/icn/horz-flip.svg" aria-disabled="true" alt="">
                </button>
                <button class="editAction" disabled onclick="flipImageYA(this,'<%=id%>')">
                  <img src="/icn/vert-flip.svg" aria-disabled="true" alt="">
                </button>
                <button class="editAction" disabled onclick="window['<%=id%>'].zoom(0.1)">
                  <img src="/icn/zoom-in.svg" aria-disabled="true" alt="">
                </button>
                <button class="editAction" disabled onclick="window['<%=id%>'].zoom(-0.1)">
                  <img src="/icn/zoom-out.svg" aria-disabled="true" alt="">
                </button>
                <button class="editAction" disabled onclick="window['<%=id%>'].reset()">
                  <img src="/icn/reset.svg" aria-disabled="true" alt="">
                </button>
              </div>
            </div>
          </div>
          <div class="card-footer">
            <button class="btn btn-primary rounded ml-0" onclick="cropperJS('<%=id%>',this, '<%=idB%>')">Edit image</button>
            <button class="btn btn-primary rounded" onclick="selectImage('<%=id%>',this, '<%=idB%>')">Select image</button>
            <input type="file" accept="image/jpeg" name="<%=idA%>" id="<%=idA%>" hidden>
          </div>
        </div>

        <div class="input-cont img card">
          <% id = 'imgD_DISP'; idA='imgD'; idB = 'img4'%>
          <div class="card-header">
            <label for="<%=idA%>">Feature image <span></span></label>
          </div>
          <div class="card-body d-flex justify-content-between">
            <div class="img-from-cont">
              <img id="<%=id%>" src="/product_images/<%=product.PID %>4.jpg" class="img-cont" alt="">
              <!-- <span class="choose">Select image</span> -->
            </div>
            <div class="edit-action-cont ml-3">
              <p class="mb-0">Tools</p>
              <div class="icons">
                <button class="editAction" disabled onclick="window['<%=id%>'].setDragMode('move');">
                  <img src="/icn/move.svg" aria-disabled="true" alt="">
                </button>
                <button class="editAction" disabled onclick="window['<%=id%>'].setDragMode('crop');">
                  <img src="/icn/plus.svg" aria-disabled="true" alt="">
                </button>
                <button class="editAction" disabled onclick="window['<%=id%>'].move(0,-10)">
                  <img src="/icn/up.svg" aria-disabled="true" alt="">
                </button>
                <button class="editAction" disabled onclick="window['<%=id%>'].move(0,10)">
                  <img src="/icn/down.svg" aria-disabled="true" alt="">
                </button>
                <button class="editAction" disabled onclick="window['<%=id%>'].move(-10,0)">
                  <img src="/icn/left.svg" aria-disabled="true" alt="">
                </button>
                <button class="editAction" disabled onclick="window['<%=id%>'].move(10,0)">
                  <img src="/icn/right.svg" aria-disabled="true" alt="">
                </button>
                <button class="editAction" disabled onclick="window['<%=id%>'].rotate(-45)">
                  <img src="/icn/rotate-left.svg" aria-disabled="true" alt="">
                </button>
                <button class="editAction" disabled onclick="window['<%=id%>'].rotate(45)">
                  <img src="/icn/rotate-right.svg" aria-disabled="true" alt="">
                </button>
                <button class="editAction" disabled onclick="flipImageXA(this,'<%=id%>')">
                  <img src="/icn/horz-flip.svg" aria-disabled="true" alt="">
                </button>
                <button class="editAction" disabled onclick="flipImageYA(this,'<%=id%>')">
                  <img src="/icn/vert-flip.svg" aria-disabled="true" alt="">
                </button>
                <button class="editAction" disabled onclick="window['<%=id%>'].zoom(0.1)">
                  <img src="/icn/zoom-in.svg" aria-disabled="true" alt="">
                </button>
                <button class="editAction" disabled onclick="window['<%=id%>'].zoom(-0.1)">
                  <img src="/icn/zoom-out.svg" aria-disabled="true" alt="">
                </button>
                <button class="editAction" disabled onclick="window['<%=id%>'].reset()">
                  <img src="/icn/reset.svg" aria-disabled="true" alt="">
                </button>
              </div>
            </div>
          </div>
          <div class="card-footer">
            <button class="btn btn-primary rounded ml-0" onclick="cropperJS('<%=id%>',this, '<%=idB%>')">Edit image</button>
            <button class="btn btn-primary rounded" onclick="selectImage('<%=id%>',this, '<%=idB%>')">Select image</button>
            <input type="file" accept="image/jpeg" name="<%=idA%>" id="<%=idA%>" hidden>
          </div>
        </div>

      </div>

      <!-- <div class="input-cont horz">
        <div class="input-cont">
          <label for="imgA">Main Image of product * <span></span></label>
          <img id="imgA_DISP" src="/product_images/<%=product.PID %>1.jpg" alt="">
          <input type="file" accept="image/jpeg" name="imgA" id="imgA">
        </div>
        <div class="input-cont">
          <label for="imgB">Second image of product * <span></span></label>
          <img id="imgB_DISP" src="/product_images/<%=product.PID %>2.jpg" alt="">
          <input type="file" accept="image/jpeg" name="imgB" id="imgB">
        </div>
      </div>
      <div class="input-cont horz">
        <div class="input-cont">
          <label for="imgC">Third image of product * <span></span></label>
          <img id="imgC_DISP" src="/product_images/<%=product.PID %>3.jpg" alt="">
          <input type="file" accept="image/jpeg" name="imgC" id="imgC">
        </div>
        <div class="input-cont">
          <label for="imgD">Fourth image of product * <span></span></label>
          <img id="imgD_DISP" src="/product_images/<%=product.PID %>4.jpg" alt="">
          <input type="file" accept="image/jpeg" name="imgD" id="imgD">
        </div>
      </div> -->

      <div id="disp_state" style="padding: 10px 15px; display: none; text-transform: capitalize; background-color: rgb(255, 206, 206); box-sizing: border-box; margin: 10px; color: black;" class="mt-2 rounded">
        -
      </div>

      <div class="btn-cont">
        <button class="btn" onclick="updateUserData('<%=product.PID%>')">Submit</button>
        <button class="btn btn-danger bg-danger" onclick="confirmDeletion('<%=product.PID%>')">Delete
          Product</button>
      </div> <br>
    </div>
  </div>

  <script src="/js/admin/editProducts.js"></script>


</div>
<!-- /.container-fluid -->